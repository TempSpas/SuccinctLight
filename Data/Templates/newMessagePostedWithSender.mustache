
<div 
	class="line {{lineClassAttribute}}"
	id="line-{{lineNumber}}"

	data-command="{{command}}"

{{#isEncrypted}}
	data-encrypted="true"
{{/isEncrypted}}

	data-highlight="{{highlightAttribute}}"
	data-line-type="{{lineType}}"

{{^isRemoteMessage}}
	data-member-type="{{nicknameType}}"
{{/isRemoteMessage}}

	data-timestamp="{{timestamp}}">

{{#isEncrypted}}
	{{{encryptedMessageLockTemplate}}}
{{/isEncrypted}}

	<span class="sender"
		onclick="Textual.nicknameMaybeWasDoubleClicked(this)"
		oncontextmenu="Textual.openStandardNicknameContextualMenu()"
		data-member-type="{{nicknameType}}"
		data-nickname="{{nickname}}"

		{{#nicknameColorHashingEnabled}}
			{{#nicknameColorHashingIsStyleBased}}
				{{#nicknameColorStyleOverride}}
					data-override-color="true"
				{{/nicknameColorStyleOverride}}

				{{^ isEmpty(nicknameColorStyle) }}
				style="color: {{nicknameColorStyle}};"
				{{/ isEmpty(nicknameColorStyle) }}
			{{^nicknameColorHashingIsStyleBased}}
				data-color-number="{{nicknameColorNumber}}"
			{{/nicknameColorHashingIsStyleBased}}
		{{/nicknameColorHashingEnabled}}>{{formattedNickname}}</span>

	<span class="message">{{{formattedMessage}}}

		{{#inlineMediaEnabled}}
			<span class="inlineMediaContainer"></span>
		{{/inlineMediaEnabled}}
	</span>		

	<span class="time"

	{{^ isEmpty(localizedTimestamp) }}
		title="{{localizedTimestamp}}"
	{{/ isEmpty(localizedTimestamp) }}>{{formattedTimestamp}} </span>
</div>
